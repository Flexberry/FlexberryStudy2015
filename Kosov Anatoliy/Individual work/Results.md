# 30.10.2015
*Вариант №9*
Банк «Товарищество заслуженных программистов» открывает для клиентов (физических и юридических лиц) текущие и 
сберегательные счета, выдает кредиты. Текущий счет может быть открыт для использования несколькими клиентами, 
сберегательный - только для одного. Клиент может иметь несколько текущих и сберегательных счетов.

## Замечания
1. Модель предметной области требует исправлений.
   В существующем варианте у текущего счета может быть только один владелец.
   Нет возможности отслеживать операции по счету.
   Кредит является счетом, что не совсем верно, под кредит должен заводится сберегательный счет, 
   и межу ними должна быть ассоциация.
   Поля характеризующие тип (лица, счета, операции) лучше делать перечислением, а не флагами.
2. Не переопределены стили в темах (по условию задания нужно было переопределить стили в х темах).
   Добавлена картинка для вершин дерева карты сайта, но она добавлена в серверной части мастеровой страницы,
   лучше делать это в темах, если нужна разная картинка для разных тем, то в них и определять,
   если же нужна одна картинка для всех тем, то нужно это делать в BaseTheme.
   Если добавить в каталог с темой свой css-файл, например myStyle.css, он автоматически будет подключен к странице, 
   при выборе соответствующей темы.
3. Нет доработок рабочего стола.
   Эти доработки нужно делать на странице Default.aspx
   На странице содержиться placeholder "ContentPlaceHolder1", в котором имеется блок div,
   собственно он и представляет из себя рабочий стол, его и нужно изменять.
4. Не продемонстровано никаких красивостей на JavaScript (хотя по условиям задания это не обязательно).
   При желании можно объединить эту задачу с задачей доработки рабочего стола и убить двух зайцев.
5. Опечатка в заголовке сайта "Товарищество заслуженныЙ программистов".

## Для справки:
1. При переопределении стилей серверных контролов (таких как TreeView) лучше не привязываться к идентификаторам, 
   т.к. они генерируются в серверной части приложения, и могут возникать ситуации, когда значение идентификатора,
   пришедшее на клиент в разметке, будет отличаться от ожидаемого, и стили посыпятся.
   Лучше привязываться к именам классов.
2. Чтобы на рабочем столе выполнялся какой-либо кастомный JS, Default.aspx должна выглядеть примерно так:
   ```
   <asp:Content ID="Content1" ContentPlaceHolderID="ContentPlaceHolder1" runat="server">
    <div id="desktopDiv">
        <asp:Localize Text="<%$ Resources: Resource, Home_Page %>" runat="server"></asp:Localize><br />
    </div>
    </asp:Content>
    <asp:Content ID="MyScripts" ContentPlaceHolderID="ContentPlaceHolder0" runat="server">
    <script>
        $(function() {
            // Показываем alert при клике по рабочему столу.
            $('#desktopDiv').click(function(e) { alert('desktop clicked!'); });
        });
    </script>
    </asp:Content>
    ```
    
    Чтобы в ContentPlaceHolder0 сожно было добавлять свои скрипты, нужно поправить web.config приложения:
    Заменить
    ```
    <register type="NewPlatform.Flexberry.Web.Http.IPageContentConnector, NewPlatform.Flexberry.Web.Http"
                   mapTo="NewPlatform.Flexberry.Web.Http.FilterPageContentConnector, NewPlatform.Flexberry.Web.Http" />
   ```
   
    на
    ```
    <register type="NewPlatform.Flexberry.Web.Http.IPageContentConnector, NewPlatform.Flexberry.Web.Http"
                    mapTo="NewPlatform.Flexberry.Web.Http.PlaceholderPageContentConnector, NewPlatform.Flexberry.Web.Http" />
   ```

## Результат
1. Требуется выполнить доработку модели и перегенерировать приложение.
2. Требуется переопределить любые 2 темы приложения через стили.
3. Требуется доработать рабочий стол приложения (желательно с использованием JS).

